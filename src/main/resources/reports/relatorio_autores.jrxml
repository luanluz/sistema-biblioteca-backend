<!-- Created with Jaspersoft Studio version 7.0.3.final using JasperReports Library version 7.0.3-41034ca841d452f3305ba55b9042260aaa1ab5dd  -->
<jasperReport name="relatorio_autores" language="java" columnCount="1" pageWidth="920" pageHeight="595" columnWidth="880" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="d7f91e58-8c4a-425d-981b-5064b6406b36">
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<property name="com.jaspersoft.studio.unit." value="pixel"/>
	<property name="com.jaspersoft.studio.unit.pageHeight" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.pageWidth" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.topMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.bottomMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.leftMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.rightMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.columnWidth" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.columnSpacing" value="pixel"/>
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="One Empty Record"/>
	<style name="Title" fontSize="26.0" bold="true"/>
	<style name="SubTitle" forecolor="#666666" fontSize="12.0"/>
	<style name="Column header" forecolor="#FFFFFF" fontSize="10.0" bold="true"/>
	<style name="Detail" fontSize="10.0"/>
	<parameter name="REPORT_TITLE" forPrompting="false" class="java.lang.String">
		<defaultValueExpression><![CDATA["Relatório de Autores"]]></defaultValueExpression>
	</parameter>
	<query language="sql"><![CDATA[SELECT * FROM vw_relatorio_por_autor]]></query>
	<field name="codau" class="java.lang.Integer"/>
	<field name="nome_autor" class="java.lang.String"/>
	<field name="quantidade_livros" class="java.lang.Long"/>
	<field name="titulos" class="java.lang.String"/>
	<field name="editoras" class="java.lang.String"/>
	<field name="assuntos" class="java.lang.String"/>
	<field name="valor_total_reais" class="java.math.BigDecimal"/>
	<field name="ano_publicacao_mais_antigo" class="java.lang.String"/>
	<field name="ano_publicacao_mais_recente" class="java.lang.String"/>
	<variable name="total_livros" calculation="Sum" class="java.lang.Long">
		<expression><![CDATA[$F{quantidade_livros}]]></expression>
	</variable>
	<variable name="total_valor" calculation="Sum" class="java.math.BigDecimal">
		<expression><![CDATA[$F{valor_total_reais}]]></expression>
	</variable>
	<background splitType="Stretch"/>
	<title height="70" splitType="Stretch">
		<element kind="staticText" uuid="2bb54bfa-8cb0-45a1-af16-da1df43225b6" x="0" y="0" width="880" height="40" fontSize="28.0" bold="true" hTextAlign="Center" vTextAlign="Middle" style="Title">
			<text><![CDATA[Relatório de Livros Agrupados por Autor]]></text>
		</element>
		<element kind="textField" uuid="5c0c8808-eccf-4243-a8a5-2f53df2ac338" x="677" y="47" width="202" height="20" pattern="dd/MM/yyyy HH:mm" hTextAlign="Right" style="SubTitle">
			<expression><![CDATA["Data: " + new java.text.SimpleDateFormat("dd/MM/yyyy HH:mm").format(new Date())]]></expression>
		</element>
	</title>
	<pageHeader height="5" splitType="Stretch"/>
	<columnHeader height="30" splitType="Stretch">
		<element kind="rectangle" uuid="0de19d85-e35f-4625-ae61-85d43e6c3f8f" x="0" y="0" width="880" height="30" backcolor="#E1EAFA">
			<pen lineWidth="0.0"/>
		</element>
		<element kind="staticText" uuid="3265192b-ba8c-45b0-aa95-9d9567473e1f" x="0" y="5" width="40" height="20" forecolor="#030303" bold="true" hTextAlign="Center" vTextAlign="Middle" style="Column header">
			<text><![CDATA[Código]]></text>
		</element>
		<element kind="staticText" uuid="5ea6c2f9-1701-46cf-b87f-a2ed63407223" x="45" y="5" width="120" height="20" forecolor="#030303" bold="true" vTextAlign="Middle" style="Column header">
			<text><![CDATA[Nome do Autor]]></text>
		</element>
		<element kind="staticText" uuid="832c2b76-98f4-4a82-9672-a49aff52014b" x="170" y="5" width="45" height="20" forecolor="#030303" bold="true" hTextAlign="Center" vTextAlign="Middle" style="Column header">
			<text><![CDATA[Qtd.]]></text>
		</element>
		<element kind="staticText" uuid="3459714b-7bca-4cba-9547-26339900b9cf" x="220" y="5" width="180" height="20" forecolor="#030303" bold="true" vTextAlign="Middle" style="Column header">
			<text><![CDATA[Títulos]]></text>
		</element>
		<element kind="staticText" uuid="dac6c791-87bb-4ed7-8d9d-00a54bd566a6" x="405" y="5" width="120" height="20" forecolor="#030303" bold="true" vTextAlign="Middle" style="Column header">
			<text><![CDATA[Editoras]]></text>
		</element>
		<element kind="staticText" uuid="5e7084b2-d592-4c5f-b39f-59a80e3ecbad" x="530" y="5" width="120" height="20" forecolor="#030303" bold="true" vTextAlign="Middle" style="Column header">
			<text><![CDATA[Assuntos]]></text>
		</element>
		<element kind="staticText" uuid="27d2af40-a5fb-4020-8713-1ca4f0bf2866" x="655" y="5" width="84" height="20" forecolor="#030303" bold="true" hTextAlign="Right" vTextAlign="Middle" style="Column header">
			<text><![CDATA[Valor Total]]></text>
		</element>
		<element kind="staticText" uuid="fb9f472a-7a80-46f1-a8fc-60c66033bac0" x="750" y="5" width="120" height="20" forecolor="#030303" bold="true" hTextAlign="Right" vTextAlign="Middle" style="Column header">
			<text><![CDATA[Período]]></text>
		</element>
	</columnHeader>
	<detail>
		<band height="40" splitType="Stretch">
			<element kind="rectangle" uuid="be3d6820-add3-4fa1-904b-ab79a36bd4e0" x="0" y="0" width="879" height="40" backcolor="#F0F0F0">
				<printWhenExpression><![CDATA[$V{REPORT_COUNT}%2==0]]></printWhenExpression>
				<pen lineWidth="0.0"/>
			</element>
			<element kind="textField" uuid="58c5bf08-e43b-4e21-b8f3-29b180ccf91d" x="0" y="5" width="40" height="30" hTextAlign="Center" vTextAlign="Top" style="Detail">
				<expression><![CDATA[$F{codau}]]></expression>
			</element>
			<element kind="textField" uuid="07fe2284-71f1-44c3-ba4d-4328f138611e" x="45" y="5" width="120" height="30" textAdjust="StretchHeight" bold="true" vTextAlign="Top" style="Detail">
				<expression><![CDATA[$F{nome_autor}]]></expression>
			</element>
			<element kind="textField" uuid="c2628c58-7d30-4e7c-ae7d-d99ec2af5162" x="170" y="5" width="45" height="30" hTextAlign="Center" vTextAlign="Top" style="Detail">
				<expression><![CDATA[$F{quantidade_livros}]]></expression>
			</element>
			<element kind="textField" uuid="1de7d10d-72b4-40fe-835d-66584cf0c8cf" x="220" y="5" width="180" height="30" fontSize="9.0" textAdjust="StretchHeight" blankWhenNull="true" vTextAlign="Top" style="Detail">
				<expression><![CDATA[$F{titulos}]]></expression>
			</element>
			<element kind="textField" uuid="1b98a431-3afb-4474-9688-00e9b833893a" x="405" y="5" width="120" height="30" fontSize="9.0" textAdjust="StretchHeight" blankWhenNull="true" vTextAlign="Top" style="Detail">
				<expression><![CDATA[$F{editoras}]]></expression>
			</element>
			<element kind="textField" uuid="6bb54c75-bcb4-44e4-91e0-cc4a6f3a2ab3" x="530" y="5" width="120" height="30" fontSize="9.0" textAdjust="StretchHeight" blankWhenNull="true" vTextAlign="Top" style="Detail">
				<expression><![CDATA[$F{assuntos}]]></expression>
			</element>
			<element kind="textField" uuid="59d2eb18-077e-4ee1-8280-6851ee30c009" x="655" y="5" width="84" height="30" pattern="R¤ #,##0.00" blankWhenNull="true" hTextAlign="Right" vTextAlign="Top" style="Detail">
				<expression><![CDATA[$F{valor_total_reais}]]></expression>
			</element>
			<element kind="textField" uuid="19da55b5-1085-4dcc-a38d-16ae78d3aa99" x="760" y="8" width="110" height="30" fontSize="9.0" blankWhenNull="true" hTextAlign="Center" vTextAlign="Top" style="Detail">
				<expression><![CDATA[$F{ano_publicacao_mais_antigo} != null && $F{ano_publicacao_mais_recente} != null ? 
    $F{ano_publicacao_mais_antigo} + " - " + $F{ano_publicacao_mais_recente} : ""]]></expression>
			</element>
			<element kind="line" uuid="649aff82-d56b-4881-b5a0-56eb048a90fd" stretchType="ElementGroupHeight" x="0" y="38" width="879" height="1" forecolor="#CCCCCC">
				<property name="com.jaspersoft.studio.unit.width" value="px"/>
			</element>
		</band>
	</detail>
	<columnFooter height="5" splitType="Stretch"/>
	<pageFooter height="25" splitType="Stretch">
		<element kind="line" uuid="a9cd9152-4132-405f-a766-a38086d403d3" x="0" y="2" width="879" height="1">
			<property name="com.jaspersoft.studio.unit.width" value="px"/>
		</element>
		<element kind="textField" uuid="581b7cdb-17a7-47f0-b30a-6efa0b5d6bb0" x="0" y="5" width="750" height="20" fontSize="9.0" vTextAlign="Middle">
			<expression><![CDATA["Sistema de Gerenciamento de Biblioteca"]]></expression>
		</element>
		<element kind="textField" uuid="5138f159-c4a7-4e81-80a6-e18ab4f6afc3" x="750" y="5" width="80" height="20" fontSize="9.0" hTextAlign="Right" vTextAlign="Middle">
			<expression><![CDATA["Página " + $V{PAGE_NUMBER} + " de"]]></expression>
		</element>
		<element kind="textField" uuid="8bfe99e5-3e27-4eb8-bd8f-5f0a8c440aa3" x="830" y="5" width="42" height="20" fontSize="9.0" evaluationTime="Report" vTextAlign="Middle">
			<expression><![CDATA[" " + $V{PAGE_NUMBER}]]></expression>
		</element>
	</pageFooter>
</jasperReport>
